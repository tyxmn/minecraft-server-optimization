## Инструкция по оптимизации minecraft сервера
Эта инструкция поможет максимально оптимизировать minecraft сервер и устранить лаги. После того как вы прочитаете всё до конца и сделаете всё то, что было рекомендовано мною - ваш сервер в 99% случаев будет работать намного лучше и производительнее.
## TPS 
TPS это Ticks per Second, количество тактов в секунду. Чем больше TPS - тем лучше. Если идёт нагрузка и показатель меньше 18.5, консоль выведет такое сообщение: Can't keep up! Is the server overloaded?.. Причины могут быть разными, начиная от скачивания "якобы оптимизирующих" плагинов, заканчивая действиями игроков.

Нормальные показатели это 19.8-20.0 TPS, на этой отметке держаться большинство серверов. Чтобы посмотреть TPS, нужно написать команду в консоль: **tps**.

## Тайминги
Если у вас низкий TPS, необходимо написать такие команды: **/timings on**, ждём 2-3 часа, **/timings paste**. После этого вы получите ссылку и попадёте на сайт, где сможете посмотреть, что нагружает сервер. Пролистав чуть ниже, вы увидите таблицу, где сможете определить, из-за чего опускается TPS. Например, при ванильном спавне мобов значение Minecraft::world - tickEntities будет завышено, а особенно это будет заметно при достаточном количестве игроков. Если самому ничего не понятно и причина лагов не определена - напишите в minecraft-inside или в какой-нибудь другой форум, вам обязательно помогут.

## Плагины

Никогда не ставьте плагины, которые заявляют, что они оптимизируют ваш сервер или плагины, которые изменяют генерацию мира. ClearLagg и ему подобные создают вопиющие лаги, а от EpicWorldGenerator можно ожидать проблем с нагрузкой CPU. Про платный React и LaggRemoverPlus даже упоминать не буду, это просто позор, а не плагины. Также, скачивать плагины можно только с этих сайтов: [spigotmc.org](https://www.spigotmc.org/), [dev.bukkit.org](https://dev.bukkit.org/). Попали на BlackSpigot? Срочно выходите с этого проклятого места. Ничего хорошего оттуда вы точно не скачаете.

Ссылки на плагины, которые действительно оптимизируют сервер: [ServerBooster](https://www.spigotmc.org/resources/%E2%9C%85must-have%E2%9C%85-serverbooster-%E2%9A%A1optimize-your-server-anti-lag-fps-boost-multilanguage%E2%9A%A1.72184/), [Chunky (генерация мира)](https://www.spigotmc.org/resources/chunky.81534/).

Касаемо сборок серверов - к ним я отношусь негативно. Лучше не поленитесь и создайте собственную сборку, потому что в ней вы будете разбираться намного лучше, чем в той, который собрал кто-то другой. В сборках частенько присутствуют вирусы. Чтобы посмотреть, есть ли вирусы в вашей сборке, скачайте [этот плагин](https://cdn.discordapp.com/attachments/648298983856406531/856991913646489670/SpigotAV.jar). Он распознаёт вирусы во всех .jar файлах. Если обнаружатся вирусы - консоль выведет такое сообщение: Malware found.

Советую не засорять свой сервер большим количеством плагинов. Чем больше плагинов - тем больше нагрузка на сервер. Добавьте столько плагинов, чтобы вашим игрокам было приятно играть на сервере. Согласитесь, когда вы видите перед собою текст в боссбаре, скорборде, в автоматических сообщениях в чате, а уж тем более надписи на весь экран, желание уйти с этого говна возрастает до 100%. Поверьте, если вы уберёте всю ненужную для обычного игрока информацию, ему будет намного приятнее играть. Администрационные плагины, которые используются раз в никогда - снести, различные дополнения, которыми мало кто будет пользоваться - снести, ненужные плагины просто удаляйте.

## Ядро

Самые популярные форки, которыми можно пользоваться на данный момент: [Paper](https://papermc.io/downloads#Paper-1.17), [Purpur](https://purpur.pl3x.net/downloads/#1.17), [Tuinity](https://ci.codemc.io/job/Spottedleaf/job/Tuinity/), [Airplane](https://github.com/TECHNOVE/Airplane). Я не рекомендую использовать Bukkit и Spigot, так как это пережитки прошлого, которые имеют много проблем. В Paper исправлено много багов и сделано много патчей, с производительностью всё прекрасно. 

Для максимально стабильной и производительной работы, я бы порекомендовал Airplane.

## Оптимизированные конфиги

### bukkit.yml
````java
chunk-gc:
 period-in-ticks: 600
````
